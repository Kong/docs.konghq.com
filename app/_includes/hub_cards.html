{%- assign extn_publisher = extn.extn_publisher -%}
{%- assign categories = extn.categories | join: ' ' -%}
{%- assign css_classes = {{ extn.type | append: ' ' | append: categories -%}
{%-if extn_publisher == 'kong-inc' -%}
  {%- if extn.free == true -%}
    {%- assign css_classes = css_classes | append: " free" -%}
  {%- else -%}
    {%- assign css_classes = css_classes | append: " gateway" | append: " kong-inc" -%}
    {%- if extn.plus -%}
      {%- assign css_classes =  css_classes | append: " plus" -%}
    {%- endif -%}
  {%- endif -%}
  {%- unless extn.konnect == false -%}
    {%- assign css_classes = css_classes | append: " konnect" -%}
  {%- endunless -%}
{%- else -%}
  {%- assign third_party_classes = " pub-not-konghq pub-" | append: extn_publisher | append: ' third-party ' -%}
  {%- assign css_classes = css_classes | append: third_party_classes -%}
{%- endif -%}
{%- if extn.enterprise -%}
  {% unless extn.free == true %}
    {%- assign css_classes = css_classes | append: " enterprise" -%}
  {% endunless %}
{%- else -%}
  {%- assign css_classes = css_classes | append: " open-source" -%}
{%- endif -%}
<div class="plugin-card {{ css_classes }}">
  <a href="{{ extn.url | remove: 'index.html' }}" title="{{ extn.name }}: {{ extn.desc }}">
    <div class="plugin-card--content">
      <div class="plugin-card--meta">
        <div class="plugin-card--meta__name">
          <img src="{{ extn.extn_icon }}" alt="{{ extn.name }} icon" />
          <p>{{ extn.name }}</p>
        </div>
        <div class="plugin-card--meta__badges">
          {% unless extn.free == true %}
            {% if extn.plus and extn_publisher == 'kong-inc' %}
              <span class="badge plus"></span>
            {% endif %}
          {% endunless %}
          {% if extn_publisher == 'kong-inc' %}
            {% unless extn.konnect == false %}
              <span class="badge konnect"></span>
            {% endunless %}
          {% endif %}
          {% if extn.enterprise %}
            {% unless extn.free == true %}
            <span class="badge enterprise"></span>
            {% endunless %}
          {% endif %}
        </div>
        <div class="plugin-card--meta__description">{{ extn.desc }}</div>
      </div>
    {% if extn_publisher == "kong-inc" %}
      <div class="plugin-card--publisher">
    {% else %}
      <div class="plugin-card--publisher third-party">
    {% endif %}
        <div class="plugin-card--publisher__support">Support by:</div>
        <div class="plugin-card--publisher__name">
          {% if extn_publisher == "kong-inc" %}
            {% include svgs.html img='team-kong-icon' %}
          {% else %}
            {{ extn.publisher }}
          {% endif %}
        </div>
      </div>
    </div>
  </a>
</div>
