{%- assign extn_publisher = extn.extn_publisher -%}
{%- assign categories = extn.categories | join: ' ' -%}
{%- assign css_classes = {{ extn.type | append: ' ' | append: categories -%}
{%-if extn_publisher == 'kong-inc' -%}
  {%- assign css_classes = css_classes | append: " gateway" | append: " kong-inc" -%}
  {%- if extn.kong_version_compatibility.enterprise_edition.compatible != nil -%}
    {%- assign css_classes = css_classes | append: " ee-compat" -%}
  {%- endif -%}
  {%- if extn.plus or extn.kong_version_compatibility.community_edition.compatible != nil -%}
    {%- unless extn.cloud == false -%}
      {%- assign css_classes =  css_classes | append: " plus" -%}
    {%- endunless -%}
  {%- endif -%}
  {%- unless extn.cloud == false -%}
    {%- assign css_classes = css_classes | append: " konnect" -%}
  {%- endunless -%}
{%- else -%}
  {%- assign third_party_classes = " pub-not-konghq pub-" | append: extn_publisher | append: ' third-party ' -%}
  {%- assign css_classes = css_classes | append: third_party_classes -%}
{%- endif -%}
{%- if extn.enterprise -%}
  {%- assign css_classes = css_classes | append: " enterprise" -%}
{%- else -%}
  {%- assign css_classes = css_classes | append: " open-source" -%}
{%- endif -%}
<div class="plugin-card {{ css_classes }}">
  <a href="{{ extn.url | remove: 'index.html' }}" title="{{ extn.name }}: {{ extn.desc }}">
    <div class="plugin-card--content">
      <div class="plugin-card--meta">
        <div class="plugin-card--meta__name">
          <img src="{{ extn.extn_icon }}" alt="{{ extn.name }} icon" />
          <p>{{ extn.name }}</p>
        </div>
        <div class="plugin-card--meta__badges">
          {% if extn.plus and extn_publisher == 'kong-inc' %}
            <span class="badge plus"></span>
          {% endif %}
          {% if extn.enterprise %}
            <span class="badge enterprise"></span>
          {% endif %}
          {% unless extn.cloud == false %}
            <span class="badge konnect"></span>
          {% endunless %}
        </div>
        <div class="plugin-card--meta__description">{{ extn.desc }}</div>
      </div>
      <div class="plugin-card--publisher">
        <div class="plugin-card--publisher__support">Support by:</div>
        <div class="plugin-card--publisher__name">
          {% if extn_publisher == "kong-inc" %}
            {% include svgs.html img='team-kong-icon' %}
          {% else %}
            {{ extn.publisher }}
          {% endif %}
        </div>
      </div>
    </div>
  </a>
</div>
