---
#
#  WARNING: this file was auto-generated by a script.
#  DO NOT edit this file directly. Instead, send a pull request to change
#  https://github.com/Kong/kong/tree/master/autodoc/pdk/ldoc/ldoc.ltp
#  or its associated files
#
title: kong.ip
pdk: true
toc: true
---

Trusted IPs module.

 This module can be used to determine whether or not a given IP address is
 in the range of trusted IP addresses defined by the `trusted_ips` configuration
 property.

 Trusted IP addresses are those that are known to send correct replacement
 addresses for clients (as per the chosen header field, for example
 X-Forwarded-*).

 See the [documentation on trusted IPs](https://docs.konghq.com/gateway/latest/reference/configuration/#trusted_ips).




## kong.ip.is_trusted(address)

Depending on the `trusted_ips` configuration property,
 this function returns whether a given IP is trusted or not.

 Both ipv4 and ipv6 are supported.


**Phases**

* init_worker, certificate, rewrite, access, header_filter, response, body_filter, log

**Parameters**

* **address** (`string`):  A string representing an IP address.

**Returns**

* `boolean`:  `true` if the IP is trusted, `false` otherwise.


**Usage**

``` lua
if kong.ip.is_trusted("1.1.1.1") then
  kong.log("The IP is trusted")
end
```


