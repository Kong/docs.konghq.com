---
#
#  WARNING: this file was auto-generated by a script.
#  DO NOT edit this file directly. Instead, send a pull request to change
#  https://github.com/Kong/kong/tree/master/kong/pdk
#  or its associated files
#
title: kong.ip
pdk: true
toc: true
source_url: https://github.com/Kong/kong/tree/master/kong/pdk
---

<!--vale off-->

## kong.ip

Trusted IPs module

 This module can be used to determine whether or not a given IP address is
 in the range of trusted IP addresses defined by the `trusted_ips` configuration
 property.

 Trusted IP addresses are those that are known to send correct replacement
 addresses for clients (as per the chosen header field, e.g. X-Forwarded-*).

 See [docs.konghq.com/latest/configuration/#trusted_ips](/gateway/latest/reference/configuration/#trusted_ips)




### kong.ip.is_trusted(address)

Depending on the `trusted_ips` configuration property,
 this function will return whether a given ip is trusted or not  Both ipv4 and ipv6 are supported.


**Phases**

* init_worker, certificate, rewrite, access, header_filter, response, body_filter, log

**Parameters**

* **address** (string):  A string representing an IP address

**Returns**

* `boolean` `true` if the IP is trusted, `false` otherwise


**Usage**

``` lua
if kong.ip.is_trusted("1.1.1.1") then
  kong.log("The IP is trusted")
end
```

[Back to top](#kongip)
