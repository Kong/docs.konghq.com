params:
  name: pre-function OR post-function
  examples: false
  service_id: true
  route_id: true
  consumer_id: false
  konnect_examples: false
  protocols:
    - name: http
    - name: https
    - name: grpc
    - name: grpcs
    - name: tcp
    - name: tls
    - name: tls_passthrough
      minimum_version: "2.7.x"
    - name: udp
    - name: ws
      minimum_version: "3.0.x"
    - name: wss
      minimum_version: "3.0.x"
  dbless_compatible: partially
  dbless_explanation: |
    The functions will be executed, but if the configured functions attempt to write to the database, the writes will fail.
  config:
    - name: functions
      required: false
      default: '[]'
      value_in_examples: '[]'
      datatype: array
      description: |
        *Deprecated*. Use `config.access` instead.

        Array of stringified Lua code to be cached and run in sequence during access phase.
      maximum_version: "2.8.x"
    - name: certificate
      required: false
      default: '[]'
      value_in_examples: '[]'
      datatype: array
      description: |
        Array of stringified Lua code to be cached and run in sequence during the certificate phase.

        *Note*: This only runs on global plugins.
    - name: rewrite
      required: false
      default: '[]'
      value_in_examples: '[]'
      datatype: array
      description: |
        Array of stringified Lua code to be cached and run in sequence during the rewrite phase.

        *Note*: This only runs on global plugins.
    - name: access
      required: false
      default: '[]'
      value_in_examples: '[]'
      datatype: array
      description: Array of stringified Lua code to be cached and run in sequence during the access phase.
    - name: header_filter
      required: false
      default: '[]'
      value_in_examples: '[]'
      datatype: array
      description: Array of stringified Lua code to be cached and run in sequence during the header_filter phase.
    - name: body_filter
      required: false
      default: '[]'
      value_in_examples: '[]'
      datatype: array
      description: Array of stringified Lua code to be cached and run in sequence during the body_filter phase.
    - name: log
      required: false
      default: '[]'
      value_in_examples: '[]'
      datatype: array
      description: Array of stringified Lua code to be cached and run in sequence during the log phase.
